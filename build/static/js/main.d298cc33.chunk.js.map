{"version":3,"sources":["pages/Home/Store/actionTypes.js","pages/Home/index.js","pages/Home/search.png","pages/Home/Store/action.js","App.js","reportWebVitals.js","pages/Home/Store/reducer.js","index.js"],"names":["INIT_STATE","GET_DATA_LOADING","GET_DATA_SUCCESS","GET_DATA_ERROR","HomePage","props","intersectFunc","a","b","filter","e","includes","i","c","indexOf","searchFilter","query","searchArray","_","isEmpty","state","console","log","thisPar","resultArray","cloneDeep","data","obj","keys","intersectfunc","queryArray","toLowerCase","split","objkey","hasOwnProperty","length","slice","setState","result","callAPI","page","changePage","getData","debounceFunction","fn","td","context","this","clearTimeout","debounceTimer","setTimeout","call","handleOnInputChange","event","target","value","debouncer","convertMS","milliseconds","day","hour","minute","seconds","week","month","year","time","Math","floor","postMessage","postDate","postAgeInMilSec","Date","getMilliseconds","getText","text","searchText","getTextWithHighlights","forEach","eachQuery","regex","RegExp","replaceAll","dangerouslySetInnerHTML","__html","prevProps","prevState","hitsPerQuery","hitsPerPage","lastPage","queryHitted","searchResults","item","index","push","className","url","title","id","author","num_comments","Fragment","created_at_i","story_text","cx","src","alt","placeholder","onKeyUp","autoComplete","getDataState","Component","connect","dispatch","type","actionTypes","axios","get","then","response","status","catch","error","actions","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","initState","getDataLoading","getDataSuccess","action","filteredData","allData","allDataObjId","eachData","objectID","hits","concat","Number","MIN_SAFE_INTEGER","sort","relevancy_score","getDataError","reducer","store","createStore","Reducer","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d298cc33.chunk.js","sourcesContent":["export const INIT_STATE = 'INIT_STATE_STATE';\n\nexport const GET_DATA_LOADING = 'GET_DATA_LOADING';\nexport const GET_DATA_SUCCESS = 'GET_DATA_SUCCESS';\nexport const GET_DATA_ERROR = 'GET_DATA_ERROR';\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport searchIcon from './search.png';\nimport './index.css';\nimport * as actions from './Store/action';\nimport cx from 'classnames';\nimport _ from 'lodash';\nclass HomePage extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      query: '',\n      result: [],\n      page: 1\n    }\n    this.debounceTimer = null;\n  }\n\n  componentDidMount() {\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.data !== this.props.data && (this.props.hitsPerQuery === this.props.hitsPerPage || this.props.lastPage === true)) {\n      this.searchFilter();\n    }\n    else if (!_.isEmpty(this.state.query) && !_.isEmpty(this.props.queryHitted) &&\n      this.props.queryHitted === this.state.query) {\n      if (this.props.data.length > 0 && this.props.hitsPerQuery === this.props.hitsPerPage && this.props.hitsPerPage > 0 && this.state.result.length < 10 && this.props.lastPage === false) {\n        console.log(\"prevState.query \", prevState.query, this.state.query);\n\n        console.log(\"true \", this.state.page, this.props.hitsPerQuery, this.state.result.length);\n        let page = (this.state.page) + 1;\n        const debouncer = this.debounceFunction(this.state.query, page, this.callAPI, 1000, true);\n        debouncer();\n      }\n    }\n  }\n\n  intersectFunc = (a, b) => {\n    return b.filter(function (e) {\n      if (a.includes(e))\n        return true;\n    }).filter(function (e, i, c) { // extra step to remove duplicates\n      return c.indexOf(e) === i;\n    });\n\n  }\n  searchFilter = (query) => {\n\n\n    let searchArray = [];\n    if (_.isEmpty(query))\n      query = this.state.query;\n    console.log(\"query search filter\", query);\n\n    let thisPar = this;\n    let resultArray = _.cloneDeep(this.props.data);\n    if (_.isEmpty(query)) {\n      searchArray = [];\n    }\n    else {\n      searchArray = resultArray.filter(function (obj) {\n\n        let keys = ['title', 'url', 'author', 'story_text', 'story_title']\n        var intersectfunc = thisPar.intersectFunc;\n\n        query = query.toLowerCase();\n        let queryArray = query.split(\" \");\n        for (var objkey in obj) {\n          if (obj.hasOwnProperty(objkey) && _.includes(keys, objkey) && !_.isEmpty(obj[objkey])) {\n            let intersectedArray = intersectfunc(obj[objkey].toLowerCase(), queryArray);\n            if (intersectedArray.length === queryArray.length) {\n              return true;\n            }\n\n          }\n        }\n\n      });\n\n    }\n\n    if (searchArray.length > 10)\n      searchArray = searchArray.slice(0, 10);\n\n    this.setState({ result: searchArray });\n    return searchArray;\n\n  }\n\n  callAPI = (query, page,changePage) =>{\n    if (changePage === true)\n      this.setState({ page });\n\n      this.props.getData(query,page);\n    \n  }\n  debounceFunction = (query, page, fn, td, changePage) => {\n\n    let thisPar = this;\n    return function () {\n      const context = this;\n      clearTimeout(thisPar.debounceTimer)\n      thisPar.debounceTimer = setTimeout(() => fn.call(context, query, page,changePage), td);\n    }\n\n  }\n\n\n  handleOnInputChange = (event) => {\n\n    const query = event.target.value;\n    let page = this.state.page;\n    let searchArray = this.searchFilter(query)\n    if (searchArray.length < 10) {\n      const debouncer = this.debounceFunction(query, page, this.callAPI, 1000);\n      debouncer();\n    }\n\n    console.log(\"query input change\", query);\n\n    this.setState({ query, page: 1 });\n\n\n  }\n  convertMS = (milliseconds) => {\n    let day, hour, minute, seconds, week, month, year, time = \"\";\n    seconds = Math.floor(milliseconds / 1000);\n    minute = Math.floor(seconds / 60);\n    seconds = seconds % 60;\n    hour = Math.floor(minute / 60);\n    minute = minute % 60;\n    day = Math.floor(hour / 24);\n    week = Math.floor(day / 7);\n    hour = hour % 24;\n    day = day % 7;\n    month = Math.floor(day / 30);\n    year = Math.floor(day / 365);\n\n    if (year > 0) {\n      time += year + ' year';\n      if (year > 1)\n        time += 's';\n      time += ' ago';\n    }\n\n    else if (month > 0) {\n      time += month + ' month';\n      if (month > 1)\n        time += 's';\n      time += ' ago';\n    }\n    else if (week > 0) {\n      time += week + ' week';\n      if (week > 1)\n        time += 's';\n      time += ' ago';\n    }\n    else if (day > 0) {\n      time += day + ' day';\n      if (day > 1)\n        time += 's';\n      time += ' ago';\n    }\n    else if (hour > 0) {\n      time += hour + ' hour';\n      if (hour > 1)\n        time += 's';\n      time += ' ago';\n    }\n    else if (minute > 0) {\n      time += minute + ' minute';\n      if (minute > 1)\n        time += 's';\n      time += ' ago';\n    }\n    else if (seconds > 0) {\n      time += seconds + ' seconds';\n      if (seconds > 1)\n        time += 's';\n      time += ' ago';\n    }\n    return time;\n  }\n  postMessage = (postDate) => {\n    let d = new Date();\n    let n = d.getMilliseconds();\n\n    let postAgeInMilSec = postDate - n;\n    let postAage = this.convertMS(postAgeInMilSec);\n    return postAage;\n\n  }\n  getText = (text, searchText) => {\n    return searchText ? this.getTextWithHighlights(text, searchText) : text;\n  }\n  getTextWithHighlights = (text, searchText) => {\n    searchText = searchText.split(\" \");\n    searchText.forEach(eachQuery => {\n      const regex = new RegExp(eachQuery, 'gi');\n      text = text.replaceAll(regex, `<mark class=\"highlight\">$&</mark>`);\n\n    });\n    return <span dangerouslySetInnerHTML={{ __html: text }} />;\n  }\n\n  render() {\n    let searchResults = [];\n    let result = _.cloneDeep(this.state.result);\n    let thisPar = this;\n    var t;\n    if (result.length > 0) {\n\n      result.forEach(function (item, index) {\n        searchResults.push(\n          <div key={index} className=\"padding\">\n\n            {item.url || item.title ?\n              <div className=\"subList\">\n\n                <span className=\"spanWithBlack\" id={\"spanDemo\"} key={index} >{item.title ?\n                  thisPar.getText(item.title, thisPar.state.query) : null} </span>\n                <span className=\"storyUrl\">{item.url ? '(' : null} {item.url ?\n                  thisPar.getText(item.url, thisPar.state.query) : null} {item.url ? ')' : null} </span>\n\n              </div>\n              :\n              null\n            }\n            {item.author || item.num_comments ?\n              <div className=\"subList\">\n                {item.author ?\n                  <span>\n                    Author: {thisPar.getText(item.author, thisPar.state.query)}\n                  </span>\n                  :\n                  null}\n                {item.num_comments ?\n                  <span>\n                    {item.author ? <React.Fragment> | </React.Fragment> : null}\n                    comments: {item.num_comments}\n                  </span>\n                  :\n                  null}\n                {item.created_at_i ?\n                  <span>\n                    {item.author || item.num_comments ? <React.Fragment> | </React.Fragment> : null}\n                    {thisPar.postMessage(item.created_at_i)}\n                  </span>\n                  :\n                  null}\n\n              </div>\n              : null}\n            {item.story_text ? <div className=\"subList spanWithBlack\">\n              {thisPar.getText(item.story_text, thisPar.state.query)}\n            </div> : null}\n\n            <hr className=\"horizontalLine\" />\n          </div>\n        )\n      })\n    }\n\n    return (\n      <div className=\"maindiv\">\n        <h2>\n          Search Hacker News\n        </h2>\n        <div className=\"dropDown\">\n          <div className={cx(\"\")} >\n            <img src={searchIcon} alt=\"searchIcon\" className=\"searchIcon\" />\n            <input className=\"searchBox\"\n              id=\"mySearchInput\"\n              placeholder=\"Type here to start searching\"\n              onKeyUp={(event) => this.handleOnInputChange(event)}\n              autoComplete=\"off\"\n            />\n\n            {this.props.getDataState === \"LOADING\" ? <div className=\"loader\"></div> :\n              _.isEmpty(this.state.query) || result.length > 0\n                ? <div className=\"itemResults\">\n                  {searchResults}\n                </div>\n                : <div className=\"itemResults\"> \"NO DATA FOUND WITH THE SEARCH\" </div>}\n          </div>\n\n\n\n\n\n        </div>\n\n\n      </div>\n    );\n  }\n\n}\nconst mapStateToProps = state => {\n  return {\n    data: state.data,\n    lastPage: state.lastPage,\n    getDataState: state.getDataState,\n    hitsPerQuery: state.hitsPerQuery,\n    hitsPerPage: state.hitsPerPage,\n    queryHitted: state.queryHitted\n  };\n};\n\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getData: (query, page) => dispatch(actions.getData(query, page)),\n  };\n};\n\nexport default (connect(mapStateToProps, mapDispatchToProps)(HomePage));\n\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAC+0lEQVRoge2Zz08TQRTHP/UH3tSLhQjEIN7k5kEhil7VgyYWww8T/wQTf0Rignqj/gOevZiQhoO0xsSb4K8Yr+qdkxG8KBEstNbDvHFWWaSzM7Ot0k+yeZu2833vdffNzL6FFi2CkHEc3wGcAU4CfcABYLd89wWYB94Dz4AnwCdHf94ZBErAGlCr81gDisCJBsS7jl7UP6uDqwCzwFXgKJAFdsqRBY4B14A5+a0e9xg4mHLsvxgDliSQb8AksM9ifBbIA8ui8RUY8RzjptzG/JtTQKeDVhdQiOhNOEdXJ3fF4Q85d50gNFeAKiklMyaOqkAugP4QJpnhAPqAKmxdEzdDOQHGMTXTE8KBnp2mQohHyGBqpuRbfFCEl4Fu3+IxdKJmwhpw3KdwSUQnfYpuQl58zvgS7ECtwhXs1glXsuJzVc6t2Bbz2VlgB/ACWHQKzY4F4DVqV3DadnBcIoNiiw5BJUXfVqdsB8Yl0if2ZdJoHHgl9rAPsc+ookuzPjTt4nvBh1hZxNp8iFmyS3x/tx0Yd2s1A6u2A+ISWRK7xy2WROwVa31rxSUyL7Y3cTjJOST2o+3AuETeiR1IHE5y+sV+sB0Yl8is2POJw0mO9vnUh1g7ZotivVVwQG9R1jC14kwRNQ3mfQnWwT3xWfAp2i+iK6S/jT/iW1xv5Qv4e06PIwNMi69HIRz0oB4/a6jH0VDcEh+LwP5QTkYwzYehAPoXMc2HcwH0f2MCk8w4fm6zDOpK6CSqqI5NcHQyuma6HLS6MTURPSrAqFuY9TGMqZll1NRss85kUVPsCqb9E+0H62RSaaP2YGYz7XgOuI7a0rSjtv9tcj4A3ACe/xH0FKqwRxuZDKiWzQx2rxXKwENUhz7KRskE6zzGkQUuAw+At6gptIxa3OaBN8B9CepvT5wjNEEyvhhi/RWuAJcaGVRSNkomlanZN/9VMjm2QDKpLJq+yaE6KlsnmWbta0WZRtVGJfLZdkzH5Z/jAubK3GlwLM7kSPF1dosWwE/57P8k2tc9zAAAAABJRU5ErkJggg==\"","import * as actionTypes from './actionTypes';\nimport axios from 'axios';\n\nexport const initState = () => {\n    return dispatch => {\n        dispatch({\n            type: actionTypes.INIT_STATE\n        })\n    };\n};\n\n\nexport const getData = (query,page) => (dispatch,state) => {\n    dispatch({\n        type: actionTypes.GET_DATA_LOADING,\n      });\n      let url = \"http://hn.algolia.com/api/v1/search?query=\" + query + \"&page=\" + page;\n      axios.get(url)\n        .then((response) => {\n          if (response.status === 200 || response.status === 201) {\n            dispatch({\n              type: actionTypes.GET_DATA_SUCCESS,\n              data: response.data,\n              query:query\n            });\n          }\n        })\n        .catch((error) => {\n          let errMsg = error;\n          \n          dispatch({\n            type: actionTypes.GET_DATA_ERROR,\n            error: errMsg,\n          });\n        });\n};\n","import React from 'react';\nimport { BrowserRouter, Route, Switch, } from \"react-router-dom\";\nimport HomePage from \"./pages/Home\";\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <BrowserRouter>\n        <Switch>\n\n          <Route path=\"/\" exact>\n            <HomePage />\n          </Route>\n\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as actionTypes from './actionTypes';\nimport _ from 'lodash';\nconst initialState = {\n    getDataState: 'INIT',\n    data:[],\n    error:'',\n    lastPage:false,\n    hitsPerQuery:0,\n    hitsPerPage:0,\n    queryHitted:null\n}\n\nconst initState = () => {\n    return initialState;\n}\n\n\n\nconst getDataLoading = (state) => {\n    return {...state, \n        getDataState: 'LOADING'\n    } ;\n}\n\nconst getDataSuccess = (state, action) => {\n    let allData = _.cloneDeep(state.data);\n    let filteredData ; \n    let allDataObjId = [] ;\n    _.forEach(allData, eachData =>{\n        allDataObjId.push(eachData.objectID);\n    });\n    filteredData = action.data.hits.filter(obj =>\n        !_.includes(allDataObjId, obj.objectID) ?\n          true : false\n      )\n\n    \n    allData = _.concat(allData,filteredData) ; \n    \n    allData.forEach((eachData,index)=>{\n        if(!eachData['relevancy_score'])\n        {\n            allData[index]['relevancy_score'] = Number.MIN_SAFE_INTEGER; \n        }\n            \n    })\n    allData.sort(function(a, b) {\n        if (a.relevancy_score < b.relevancy_score) return 1;\n        else return -1 ;\n      });\n\n    let lastPage = false ; \n    if(action.data.hits.length <  action.data.hitsPerPage)\n    {\n        lastPage = true ; \n    }\n    return {...state,\n        getDataState: 'SUCCESS',\n        data: allData,\n        queryHitted:action.query,\n        lastPage: lastPage,\n        hitsPerQuery:action.data.hits.length,\n        hitsPerPage:action.data.hitsPerPage,\n        error: null\n    }\n    \n    \n};\n\nconst getDataError = (state, action) => {\n    return {...state,\n        getDataState: 'ERROR',\n        error: action.error,\n    };\n};\n\n\nconst reducer = (state = initialState, action) => {\n   \n    switch (action.type) {\n\n        case actionTypes.INIT_STATE: return initState();\n        \n        case actionTypes.GET_DATA_LOADING: return getDataLoading(state, action);\n        case actionTypes.GET_DATA_SUCCESS: return getDataSuccess(state, action);\n        case actionTypes.GET_DATA_ERROR: return getDataError(state, action);\n       \n        default: return state;\n    }\n};\n\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals'\nimport { Provider } from 'react-redux';\nimport {createStore,applyMiddleware} from 'redux' ;\nimport Reducer from './pages/Home/Store/reducer';\nimport thunk from 'redux-thunk'\nconst store = createStore(Reducer,applyMiddleware(thunk)) ;\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}